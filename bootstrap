#!/usr/bin/env zsh

echo "Hello $USERNAME !"

#http://stackoverflow.com/questions/9901210/bash-source0-equivalent-in-zsh
DOTFILES_ROOT="$(cd "$(dirname "${(%):-%N}")" ; pwd -P)"

echo Loading dotfiles from "$DOTFILES_ROOT"


# Load zsh files
find -H "$DOTFILES_ROOT" -name '*.zsh' -not -path '*.git' |\
while read file; do
	source $file
done


# symlink files
find -H "$DOTFILES_ROOT" -name '*.symlink' -not -path '*.git' |\
while read file; do
	ln -sf "$file" "$HOME/.$(basename "$file" .symlink)"
done

